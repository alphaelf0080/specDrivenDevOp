/* 心智圖畫布樣式 */

.mindmap-canvas {
  width: 100%;
  height: 100%;
  background-color: #f8fafc;
  position: relative;
}

/* React Flow 全域樣式調整 */
.mindmap-canvas .react-flow {
  background-color: #f8fafc;
}

.mindmap-canvas .react-flow__background {
  background-color: #f8fafc;
}

/* 移除 React Flow 外層節點框線，避免與內層疊加成雙框 */
.mindmap-canvas .react-flow__node-mindmap {
  background: transparent;
  border: none;
  box-shadow: none;
}

/* 邊線樣式 */
.mindmap-canvas .react-flow__edge-path {
  stroke: #94a3b8;
  stroke-width: 2;
}

.mindmap-canvas .react-flow__edge.selected .react-flow__edge-path {
  /* 不覆蓋邊的原本顏色與寬度，改用外發光強調選取狀態 */
  filter: drop-shadow(0 0 3px rgba(99, 102, 241, 0.9)) drop-shadow(0 0 6px rgba(99, 102, 241, 0.6));
}

.mindmap-canvas .react-flow__edge.animated .react-flow__edge-path {
  stroke-dasharray: 5;
  animation: dashdraw 0.5s linear infinite;
}

/* 額外的選取外框：使用 overlay path（React Flow 會渲染 selector path） */
.mindmap-canvas .react-flow__edge.selected .react-flow__edge-path-selector {
  stroke: rgba(99, 102, 241, 0.35);
  stroke-width: 10px; /* 粗一點做為光暈層，不影響實際點擊 */
  pointer-events: none;
}

@keyframes dashdraw {
  from {
    stroke-dashoffset: 10;
  }
  to {
    stroke-dashoffset: 0;
  }
}

/* 控制面板樣式 */
.mindmap-canvas .react-flow__controls {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  overflow: hidden;
}

.mindmap-canvas .react-flow__controls-button {
  background-color: white;
  border-color: #e2e8f0;
  transition: all 0.2s ease;
}

.mindmap-canvas .react-flow__controls-button:hover {
  background-color: #f8fafc;
  border-color: #6366f1;
}

.mindmap-canvas .react-flow__controls-button svg {
  fill: #475569;
}

.mindmap-canvas .react-flow__controls-button:hover svg {
  fill: #6366f1;
}

/* 小地圖樣式 */
.mindmap-canvas .react-flow__minimap {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
  overflow: hidden;
  background-color: white;
}

.mindmap-canvas .react-flow__minimap-mask {
  fill: rgba(99, 102, 241, 0.1);
  stroke: #6366f1;
  stroke-width: 2;
}

/* 選擇框樣式 */
.mindmap-canvas .react-flow__selection {
  background: rgba(99, 102, 241, 0.1);
  border: 2px solid #6366f1;
}

/* 連接線預覽 */
.mindmap-canvas .react-flow__connection-path {
  stroke: #6366f1;
  stroke-width: 2;
  stroke-dasharray: 5;
}

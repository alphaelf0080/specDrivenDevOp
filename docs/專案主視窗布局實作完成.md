# 專案主視窗布局實作完成

## 📅 完成日期
2025年10月9日

## 🎯 需求
根據設計圖實作專案主視窗,包含:
- 最上方標題列 (藍色,12/12 寬度)
- 下方三欄布局:
  - 左側窄邊欄 Navi (紅色, 60px)
  - 中間邊欄 Preview (綠色, 280px)
  - 右側主要內容區 Editor (黃色, 剩餘空間)

## ✅ 已完成項目

### 1. ProjectMainWindow.tsx
- ✅ 修復 JSX 結構錯誤
- ✅ 實作正確的兩層布局:
  - `<header className="project-header">` - 標題列
  - `<div className="project-body">` - 包含三欄的容器
- ✅ 三個側邊欄/主要區域:
  - `<aside className="sidebar-narrow">` - 圖標導航
  - `<aside className="sidebar-medium">` - 詳細導航
  - `<main className="main-content-area">` - 主要內容
- ✅ 動態切換功能 (overview/specs/design/develop/test)
- ✅ 專案資料載入與顯示
- ✅ 錯誤處理與載入狀態

### 2. ProjectMainWindow.css
- ✅ 完全重寫 CSS 檔案
- ✅ 實作 Flexbox + Grid 混合布局:
  ```css
  .project-main-window {
    display: flex;
    flex-direction: column;  /* 垂直排列 header 和 body */
  }
  
  .project-header {
    height: 64px;  /* 固定高度 */
  }
  
  .project-body {
    display: grid;
    grid-template-columns: 60px 280px 1fr;  /* 三欄布局 */
    flex: 1;  /* 佔據剩餘空間 */
  }
  ```
- ✅ 三色漸層背景:
  - 藍色: `linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)`
  - 紅色: `linear-gradient(180deg, #ef4444 0%, #dc2626 100%)`
  - 綠色: `linear-gradient(180deg, #22c55e 0%, #16a34a 100%)`
  - 黃色: `linear-gradient(180deg, #fbbf24 0%, #f59e0b 100%)`
- ✅ 響應式設計支援

### 3. 整合功能
- ✅ HomePage.tsx 點擊專案卡片開啟新視窗
- ✅ ProjectPage.tsx 作為入口頁面
- ✅ App.tsx 路由整合
- ✅ URL 參數傳遞專案 ID

## 📐 布局結構

```
┌─────────────────────────────────────────────────────────┐
│  🔵 Project Header (64px 高, 全寬)                       │
│  專案圖標 + 標題 + 元數據 + 操作按鈕                        │
└─────────────────────────────────────────────────────────┘
┌──────┬──────────────────────┬──────────────────────────┐
│ 🔴   │ 🟢 Preview (280px)   │ 🟡 Editor (剩餘空間)      │
│ Navi │                       │                           │
│(60px)│ 專案名稱              │ 麵包屑導航                │
│      │ 遊戲類型              │                           │
│  O   │                       │ ┌─────────────────────┐ │
│  S   │ ───────────────       │ │                     │ │
│  D   │                       │ │  主要內容編輯區      │ │
│  V   │ 導航選單:             │ │                     │ │
│  T   │ • 總覽                │ │  (可滾動)           │ │
│      │ • 規格                │ │                     │ │
│      │ • 設計                │ │                     │ │
│      │ • 開發                │ └─────────────────────┘ │
│      │ • 測試                │                           │
└──────┴──────────────────────┴──────────────────────────┘
```

## 🎨 顏色配置

| 區域 | 顏色 | 漸層方向 | 起始色 | 結束色 |
|------|------|----------|--------|--------|
| Header | 藍色 | 135deg | #3b82f6 | #2563eb |
| Navi | 紅色 | 180deg | #ef4444 | #dc2626 |
| Preview | 綠色 | 180deg | #22c55e | #16a34a |
| Editor | 黃色 | 180deg | #fbbf24 | #f59e0b |

## 🚀 測試步驟

1. 啟動開發伺服器 (如果尚未運行):
   ```bash
   npm run dev
   ```

2. 在瀏覽器開啟: http://localhost:5030

3. 點擊首頁任一專案卡片

4. 確認新視窗開啟並顯示:
   - ✅ 藍色標題列在最上方
   - ✅ 紅色導航欄在左側 (60px)
   - ✅ 綠色預覽欄在中間 (280px)
   - ✅ 黃色編輯區在右側 (佔滿剩餘空間)
   - ✅ 點擊紅色導航圖標可切換內容

5. 測試響應式:
   - 縮小視窗寬度 < 768px,綠色預覽欄應隱藏

## 📁 相關檔案

- `client/components/Project/ProjectMainWindow.tsx` (131 行)
- `client/components/Project/ProjectMainWindow.css` (全新創建)
- `client/pages/ProjectPage.tsx` (之前已創建)
- `client/App.tsx` (已整合路由)
- `client/components/Navigation/HomePage.tsx` (點擊開啟新視窗)

## 🔧 技術細節

### CSS Grid 布局
```css
grid-template-columns: 60px 280px 1fr;
```
- `60px`: 固定寬度的 Navi 欄
- `280px`: 固定寬度的 Preview 欄
- `1fr`: 彈性寬度的 Editor 欄 (佔據剩餘所有空間)

### Flexbox 布局
```css
display: flex;
flex-direction: column;
```
- 用於垂直排列 header 和 body
- header 固定高度 64px
- body 使用 `flex: 1` 佔據剩餘垂直空間

### 狀態管理
- `activeSection`: 當前選中的導航項目
- `project`: 載入的專案資料
- `loading`: 載入狀態
- `error`: 錯誤訊息

## ✨ 特色功能

1. **動態切換內容**: 點擊左側紅色導航圖標切換不同內容區
2. **視覺回饋**: 滑鼠懸停和選中狀態的視覺效果
3. **載入狀態**: 顯示載入中和錯誤狀態
4. **新視窗開啟**: 從首頁點擊專案卡片在新視窗開啟
5. **URL 參數**: 使用 `?view=project-page&id={id}` 傳遞資料

## 🎉 結論

專案主視窗已完全按照設計圖實作完成,包含:
- ✅ 正確的兩層布局結構 (header + body)
- ✅ 三欄式內容區 (Navi 60px + Preview 280px + Editor 1fr)
- ✅ 四色漸層背景 (藍、紅、綠、黃)
- ✅ 完整的功能實作 (導航、載入、錯誤處理)
- ✅ 無編譯錯誤
- ✅ 響應式設計

可以開始進行使用者測試了! 🚀
